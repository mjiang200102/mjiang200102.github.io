!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/of"),require("rxjs/add/observable/empty"),require("rxjs/Subject"),require("rxjs/add/operator/debounceTime")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Observable","rxjs/add/observable/of","rxjs/add/observable/empty","rxjs/Subject","rxjs/add/operator/debounceTime"],e):e(t["ngx-echarts"]={},t.ng.core,t.Rx,t.Rx.Observable,t.Rx.Observable,t.Rx)}(this,function(t,e,n,r,i,o){"use strict";var u=function(){function t(t){this._changes=t}return t.of=function(e){return new t(e)},t.prototype.notEmpty=function(t){if(this._changes[t]){var e=this._changes[t].currentValue;if(e!==undefined&&null!==e)return n.Observable.of(e)}return n.Observable.empty()},t.prototype.has=function(t){if(this._changes[t]){var e=this._changes[t].currentValue;return n.Observable.of(e)}return n.Observable.empty()},t}(),s=function(){function t(t,n){this.el=t,this._ngZone=n,this.autoResize=!0,this.loadingType="default",this.chartInit=new e.EventEmitter,this.chartClick=new e.EventEmitter,this.chartDblClick=new e.EventEmitter,this.chartMouseDown=new e.EventEmitter,this.chartMouseUp=new e.EventEmitter,this.chartMouseOver=new e.EventEmitter,this.chartMouseOut=new e.EventEmitter,this.chartGlobalOut=new e.EventEmitter,this.chartContextMenu=new e.EventEmitter,this.chartDataZoom=new e.EventEmitter,this._chart=null,this.currentOffsetWidth=0,this.currentOffsetHeight=0,this.currentWindowWidth=null,this._resize$=new o.Subject}return t.prototype.createChart=function(){var t=this;this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;var e=this.el.nativeElement;if(window&&window.getComputedStyle){var n=window.getComputedStyle(e,null).getPropertyValue("height");n&&"0px"!==n||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this._ngZone.runOutsideAngular(function(){return echarts.init(e,t.theme||undefined,t.initOpts||undefined)})},t.prototype.onWindowResize=function(t){this.autoResize&&t.target.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=t.target.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this._resize$.next())},t.prototype.ngOnChanges=function(t){var e=this,n=u.of(t);n.notEmpty("options").subscribe(function(t){return e.onOptionsChange(t)}),n.notEmpty("merge").subscribe(function(t){return e.setOption(t)}),n.has("loading").subscribe(function(t){return e.toggleLoading(!!t)})},t.prototype.ngOnDestroy=function(){this._resizeSub&&(this._resizeSub.unsubscribe(),this._resizeSub=null),this._chart&&(this._chart.dispose(),this._chart=null)},t.prototype.ngDoCheck=function(){if(this._chart&&this.autoResize){var t=this.el.nativeElement.offsetWidth,e=this.el.nativeElement.offsetHeight;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this._resize$.next())}},t.prototype.onOptionsChange=function(t){var e=this;t&&(this._chart||(this._chart=this.createChart(),this._resizeSub=this._resize$.debounceTime(50).subscribe(function(){e._chart&&e._chart.resize()}),this.chartInit.emit(this._chart),this.registerEvents(this._chart)),this._chart.setOption(this.options,!0))},t.prototype.registerEvents=function(t){var e=this;t&&(t.on("click",function(t){return e._ngZone.run(function(){return e.chartClick.emit(t)})}),t.on("dblClick",function(t){return e._ngZone.run(function(){return e.chartDblClick.emit(t)})}),t.on("mousedown",function(t){return e._ngZone.run(function(){return e.chartMouseDown.emit(t)})}),t.on("mouseup",function(t){return e._ngZone.run(function(){return e.chartMouseUp.emit(t)})}),t.on("mouseover",function(t){return e._ngZone.run(function(){return e.chartMouseOver.emit(t)})}),t.on("mouseout",function(t){return e._ngZone.run(function(){return e.chartMouseOut.emit(t)})}),t.on("globalout",function(t){return e._ngZone.run(function(){return e.chartGlobalOut.emit(t)})}),t.on("contextmenu",function(t){return e._ngZone.run(function(){return e.chartContextMenu.emit(t)})}),t.on("datazoom",function(t){return e._ngZone.run(function(){return e.chartDataZoom.emit(t)})}))},t.prototype.clear=function(){this._chart&&this._chart.clear()},t.prototype.toggleLoading=function(t){this._chart&&(t?this._chart.showLoading(this.loadingType,this.loadingOpts):this._chart.hideLoading())},t.prototype.setOption=function(t,e){this._chart&&this._chart.setOption(t,e)},t}();s.decorators=[{type:e.Directive,args:[{selector:"echarts, [echarts]"}]}],s.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone}]},s.propDecorators={options:[{type:e.Input}],theme:[{type:e.Input}],loading:[{type:e.Input}],initOpts:[{type:e.Input}],merge:[{type:e.Input}],autoResize:[{type:e.Input}],loadingType:[{type:e.Input}],loadingOpts:[{type:e.Input}],chartInit:[{type:e.Output}],chartClick:[{type:e.Output}],chartDblClick:[{type:e.Output}],chartMouseDown:[{type:e.Output}],chartMouseUp:[{type:e.Output}],chartMouseOver:[{type:e.Output}],chartMouseOut:[{type:e.Output}],chartGlobalOut:[{type:e.Output}],chartContextMenu:[{type:e.Output}],chartDataZoom:[{type:e.Output}],onWindowResize:[{type:e.HostListener,args:["window:resize",["$event"]]}]};var c=function(){function t(){}return Object.defineProperty(t.prototype,"echarts",{get:function(){return echarts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"graphic",{get:function(){return this._checkEcharts()?echarts.graphic:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"init",{get:function(){return this._checkEcharts()?echarts.init:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connect",{get:function(){return this._checkEcharts()?echarts.connect:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disconnect",{get:function(){return this._checkEcharts()?echarts.disconnect:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dispose",{get:function(){return this._checkEcharts()?echarts.dispose:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getInstanceByDom",{get:function(){return this._checkEcharts()?echarts.getInstanceByDom:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"registerMap",{get:function(){return this._checkEcharts()?echarts.registerMap:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getMap",{get:function(){return this._checkEcharts()?echarts.getMap:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"registerTheme",{get:function(){return this._checkEcharts()?echarts.registerTheme:undefined},enumerable:!0,configurable:!0}),t.prototype._checkEcharts=function(){return!!echarts||(console.error("[ngx-echarts] global ECharts not loaded"),!1)},t}();c.decorators=[{type:e.Injectable}],c.ctorParameters=function(){return[]};var h=function(){return function(){}}();h.decorators=[{type:e.NgModule,args:[{declarations:[s],exports:[s],providers:[c]}]}],h.ctorParameters=function(){return[]},t.NgxEchartsModule=h,t.NgxEchartsDirective=s,t.NgxEchartsService=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-echarts.umd.min.js.map
